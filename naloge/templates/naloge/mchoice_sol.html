{% extends 'naloge/task_base.html' %}
{% load static %}
{% load dict_lookup %}

{% block content %}
	<h1>{{ task.display_name }}</h1>
	{% for q in task.questions.all %}
		<p>{{ q.vpr }}</p>
		{% with tip=result|dict_lookup:q.id|dict_lookup:"tip" uradni=result|dict_lookup:q.id|dict_lookup:"uradni" %}
			{% if q.kom != "" %}
				<div class="odgbox">
				{% if tip == 'tvojpravilni' %}
					Res je, trditev je <span class="pravilno">{% if uradni == "Pravilna." %}pravilna{% else %}napačna{% endif %}</span>! <span>{{ q.kom }}</span>
				{% elif tip == 'uradnitvoj' %}
					Ne, trditev je <span class="narobe">{% if uradni == "Pravilna." %}pravilna{% else %}napačna{% endif %}</span>! <span>{{ q.kom }}</span>
				{% else %}
					Trditev je <span class="poudarjeno">{% if uradni == "Pravilna." %}pravilna{% else %}napačna{% endif %}</span>! <span>{{ q.kom }}</span>
				{% endif %}
				</div>
			{% elif tip == 'tvojpravilni' %}
				<div class="odgbox"><span class="poudarjeno">Bravo, na vprašanje si izbral pravilni odgovor: </span>
					<span class="pravilno">{{ uradni }}</span>
				</div>
			{% elif tip == 'uradnitvoj' %}
				<div class="odgbox"><span class="poudarjeno">Pravilni odgovor je:</span>
					<span class="uradno">{{ uradni }}</span>
				</div>
				<div class="odgbox"><span class="poudarjeno">Ti pa si odgovoril z:</span>
					<span class="narobe">{{ result|dict_lookup:q.id|dict_lookup:"tvoj" }}</span>
				</div>
			{% else %}
				<div class="odgbox"><span class="poudarjeno">Pravilni odgovor je:</span>
					<span class="uradno">{{ uradni }}</span>
				</div>
			{% endif %}
			<br/>
			<br/>
		{% endwith %}
	{% endfor %}
{% endblock content %}
